mouse
=====

This application is made to 
1. convert the data of a .csv file into a PostgreSql database;
2. generate several conclusive tables (see the descriptive .pdf);
3. plot imported and generated the data

The GUI is rather simple and self-descriptive. The descriptions of how to use the app is as follows.
1. Import a settings XML file using *Choose Settings* button. An example of such a file can be:

<settings>
	<username>vahan</username>
	<password>123</password>
	<hostname>localhost</hostname>
	<port>5432</port>
	<dbname>mousedb</dbname>
	<hist-intervals>100</hist-intervals>
	<date-format-csv>dd.MM.yyyy HH:mm:ss:SSSS</date-format-csv>
	<date-format-db>yyyy-MM-dd HH:mm:ss.SSSS</date-format-db>
	<min-tube-time>0</min-tube-time>
	<max-tube-time>360000</max-tube-time>
	<min-box-time>0</min-box-time>
	<max-box-time>4320000</max-box-time>
</settings>

where username, password, hostname, port and dbname tags describe the database. 
Hist-intervals gives how many intervals should be in a histogram.
date-format-csv and date-format-db tags give the date formats used accordingly in the input CSV file and data base.
The last three tags describe the time limits for the mice allowed to be in a tube or box.

2. Import the data using the *Choose Data File* button. The import is a CSV file consisting of a header line (the 1st line)
and numerous data lines. Each body line is of format:
cantimestamp;datetimestamp;deviceid;antennaID;data
where *cantimestamp* is not used (but must be present to preserve the data format),
*datetimestamp* is the date and time of the event (must be consistent with the date-format-csv format given in the settings file)
*deviceid* is the id of the box, where the event was registered
*antennaID* is the id of the antenna (1 or 2)
*data* is the rfid of the mouse (also called transponder)

3. Import data describing the boxes via *Choose Boxes Data File* button. This file is of 'table format', 
i.e. has a header line "box    x    y" seperated by tabs (\t). Then each row consists of the boxID and its X and Y coordinates.

4. Use the *Import* button to import the data merging it with existing data. 
Or use the *Reset the DB and Import* button, to first clear the database and then import the data.

5. The *Draw Histogram* button brings histograms reflecting the data. Currently there are two histograms. 
The upper one represents the meeting results, and the lower one shows how many non-standard stay results where recorded.
Those are the cases where a stay result was generated by a sequence of A2-A1-A2 antenna readings of the same mouse in box A.  